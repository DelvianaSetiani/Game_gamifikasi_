<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Petualangan Literasi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .stars {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            animation: fadeInDown 1s;
        }

        .header h1 {
            font-size: 3em;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .game-menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .game-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 1s;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(45deg);
            transition: 0.5s;
        }

        .game-card:hover::before {
            left: 100%;
        }

        .game-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .game-icon {
            font-size: 4em;
            margin-bottom: 15px;
            display: block;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .game-card h3 {
            color: #667eea;
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .game-card p {
            color: #666;
            font-size: 0.95em;
        }

        .game-screen {
            display: none;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: fadeIn 0.5s;
        }

        .game-screen.active {
            display: block;
        }

        .back-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            margin-bottom: 20px;
            transition: 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .back-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 7px 20px rgba(0,0,0,0.3);
        }

        .question-box {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 25px;
            border-radius: 15px;
            color: white;
            margin: 20px 0;
            font-size: 1.3em;
            text-align: center;
            animation: slideIn 0.5s;
        }

        .options {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }

        .option-btn {
            background: white;
            border: 3px solid #667eea;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.1em;
            transition: 0.3s;
            text-align: left;
        }

        .option-btn:hover {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: translateX(10px);
        }

        .option-btn.correct {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }

        .option-btn.wrong {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .score-board {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 15px;
        }

        .score-item {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            padding: 15px 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .score-item h4 {
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .score-item .value {
            font-size: 1.8em;
            font-weight: bold;
        }

        .input-area {
            width: 100%;
            padding: 15px;
            border: 3px solid #667eea;
            border-radius: 10px;
            font-size: 1.1em;
            margin: 20px 0;
            font-family: inherit;
        }

        .submit-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1em;
            transition: 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .submit-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 7px 20px rgba(0,0,0,0.3);
        }

        .result-message {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.2em;
            animation: slideIn 0.5s;
        }

        .speech-text {
            background: #f5f5f5;
            padding: 25px;
            border-radius: 15px;
            font-size: 1.3em;
            text-align: center;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }

        .record-btn {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.2em;
            transition: 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 20px auto;
        }

        .record-btn:hover {
            transform: scale(1.05);
        }

        .record-btn.recording {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-50px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .listening-audio {
            width: 100%;
            margin: 20px 0;
            border-radius: 15px;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <div class="header">
            <h1>üåü Petualangan Literasi üåü</h1>
            <p>Asah Kemampuan Membaca, Menulis, Menyimak, dan Berbicara dengan Cara Menyenangkan!</p>
        </div>

        <div id="mainMenu" class="game-menu">
            <div class="game-card" onclick="startGame('reading')">
                <span class="game-icon">üìñ</span>
                <h3>Membaca Cerdas</h3>
                <p>Uji kemampuan pemahamanmu dalam membaca cerita dan menjawab pertanyaan!</p>
            </div>

            <div class="game-card" onclick="startGame('writing')">
                <span class="game-icon">‚úçÔ∏è</span>
                <h3>Menulis Kreatif</h3>
                <p>Tunjukkan kreativitasmu dalam menulis cerita berdasarkan tema yang diberikan!</p>
            </div>

            <div class="game-card" onclick="startGame('listening')">
                <span class="game-icon">üëÇ</span>
                <h3>Menyimak Aktif</h3>
                <p>Dengarkan cerita dengan seksama dan jawab pertanyaan dengan tepat!</p>
            </div>

            <div class="game-card" onclick="startGame('speaking')">
                <span class="game-icon">üé§</span>
                <h3>Berbicara Percaya Diri</h3>
                <p>Latih kemampuan berbicaramu dengan membaca teks dengan lantang!</p>
            </div>
        </div>

        <!-- Reading Game -->
        <div id="readingGame" class="game-screen">
            <button class="back-btn" onclick="backToMenu()">‚¨ÖÔ∏è Kembali</button>
            <h2>üìñ Membaca Cerdas</h2>
            <div class="score-board">
                <div class="score-item">
                    <h4>Pertanyaan</h4>
                    <div class="value"><span id="readingQuestion">1</span>/5</div>
                </div>
                <div class="score-item">
                    <h4>Skor</h4>
                    <div class="value" id="readingScore">0</div>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="readingProgress" style="width: 20%">20%</div>
            </div>
            <div id="readingContent"></div>
        </div>

        <!-- Writing Game -->
        <div id="writingGame" class="game-screen">
            <button class="back-btn" onclick="backToMenu()">‚¨ÖÔ∏è Kembali</button>
            <h2>‚úçÔ∏è Menulis Kreatif</h2>
            <div class="score-board">
                <div class="score-item">
                    <h4>Tugas</h4>
                    <div class="value"><span id="writingTask">1</span>/3</div>
                </div>
                <div class="score-item">
                    <h4>Kata Ditulis</h4>
                    <div class="value" id="wordCount">0</div>
                </div>
            </div>
            <div id="writingContent"></div>
        </div>

        <!-- Listening Game -->
        <div id="listeningGame" class="game-screen">
            <button class="back-btn" onclick="backToMenu()">‚¨ÖÔ∏è Kembali</button>
            <h2>üëÇ Menyimak Aktif</h2>
            <div class="score-board">
                <div class="score-item">
                    <h4>Pertanyaan</h4>
                    <div class="value"><span id="listeningQuestion">1</span>/4</div>
                </div>
                <div class="score-item">
                    <h4>Skor</h4>
                    <div class="value" id="listeningScore">0</div>
                </div>
            </div>
            <div id="listeningContent"></div>
        </div>

        <!-- Speaking Game -->
        <div id="speakingGame" class="game-screen">
            <button class="back-btn" onclick="backToMenu()">‚¨ÖÔ∏è Kembali</button>
            <h2>üé§ Berbicara Percaya Diri</h2>
            <div class="score-board">
                <div class="score-item">
                    <h4>Teks</h4>
                    <div class="value"><span id="speakingTask">1</span>/4</div>
                </div>
                <div class="score-item">
                    <h4>Selesai</h4>
                    <div class="value" id="speakingComplete">0</div>
                </div>
            </div>
            <div id="speakingContent"></div>
        </div>
    </div>

    <script>
        // Generate stars
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 3 + 's';
            starsContainer.appendChild(star);
        }

        // Reading Game Data
        const readingData = [
            {
                story: "Di sebuah desa yang damai, hiduplah seorang petani bernama Pak Budi. Setiap pagi, ia pergi ke sawahnya untuk merawat tanaman padi. Pak Budi selalu bekerja dengan gembira meskipun lelah. Suatu hari, ia menemukan seekor burung kecil yang terluka di sawahnya. Dengan hati-hati, Pak Budi merawat burung itu hingga sembuh.",
                question: "Apa yang ditemukan Pak Budi di sawahnya?",
                options: ["Seekor kucing yang lapar", "Seekor burung yang terluka", "Tanaman padi yang rusak", "Harta karun tersembunyi"],
                correct: 1
            },
            {
                story: "Maya adalah siswi yang rajin belajar. Setiap hari ia selalu mengerjakan PR tepat waktu. Maya juga suka membantu teman-temannya yang kesulitan memahami pelajaran. Guru-guru di sekolah sangat bangga dengan Maya karena prestasinya yang baik dan sikap baiknya terhadap teman-teman.",
                question: "Mengapa guru-guru bangga dengan Maya?",
                options: ["Karena Maya selalu terlambat", "Karena prestasi dan sikap baiknya", "Karena Maya tidak pernah belajar", "Karena Maya suka bermain"],
                correct: 1
            },
            {
                story: "Andi dan Budi adalah sahabat karib sejak kecil. Mereka selalu bermain bersama setelah pulang sekolah. Suatu hari, Andi sakit dan tidak bisa pergi ke sekolah selama seminggu. Budi dengan setia mengunjungi Andi setiap hari dan membantunya belajar agar tidak ketinggalan pelajaran.",
                question: "Apa yang dilakukan Budi ketika Andi sakit?",
                options: ["Tidak mengunjungi Andi", "Mengunjungi dan membantu Andi belajar", "Pergi bermain dengan teman lain", "Lupa dengan Andi"],
                correct: 1
            },
            {
                story: "Keluarga Ibu Sari memiliki kebun sayur yang luas. Setiap pagi, mereka menyiram tanaman dengan penuh kasih sayang. Di kebun itu tumbuh berbagai macam sayuran seperti tomat, kangkung, bayam, dan cabe. Hasil panen mereka tidak hanya untuk dimakan sendiri, tetapi juga dibagikan kepada tetangga.",
                question: "Apa yang dilakukan keluarga Ibu Sari dengan hasil panen mereka?",
                options: ["Dijual semua ke pasar", "Dimakan sendiri dan dibagikan ke tetangga", "Dibuang begitu saja", "Disimpan sampai busuk"],
                correct: 1
            },
            {
                story: "Sekolah Dasar Harapan Bangsa mengadakan lomba kebersihan kelas. Semua siswa bekerja sama membersihkan kelas mereka. Mereka menyapu lantai, membersihkan jendela, dan menata meja dengan rapi. Kelas 5A memenangkan lomba karena kerja sama tim yang solid dan kelas mereka paling bersih.",
                question: "Mengapa kelas 5A memenangkan lomba?",
                options: ["Karena guru yang membantu", "Karena kerja sama tim yang solid", "Karena kelasnya paling besar", "Karena tidak ada kelas lain"],
                correct: 1
            }
        ];

        // Writing Game Data
        const writingTasks = [
            {
                prompt: "Tulislah sebuah cerita pendek tentang: 'Petualangan di Hutan Ajaib'",
                minWords: 50
            },
            {
                prompt: "Ceritakan pengalamanmu yang paling berkesan saat liburan!",
                minWords: 50
            },
            {
                prompt: "Bayangkan kamu memiliki kekuatan super. Tulislah apa yang akan kamu lakukan!",
                minWords: 50
            }
        ];

        // Listening Game Data
        const listeningData = [
            {
                text: "Dengarkan dengan seksama: Bunga mawar memiliki banyak warna, seperti merah, putih, kuning, dan pink. Mawar merah melambangkan cinta, mawar putih melambangkan kesucian, dan mawar kuning melambangkan persahabatan.",
                question: "Warna mawar apa yang melambangkan persahabatan?",
                options: ["Merah", "Putih", "Kuning", "Pink"],
                correct: 2
            },
            {
                text: "Dengarkan: Planet Bumi memiliki satelit alami bernama Bulan. Bulan mengelilingi Bumi dan membutuhkan waktu sekitar 29 hari untuk satu kali putaran. Bulan tidak memiliki cahaya sendiri, tetapi memantulkan cahaya matahari.",
                question: "Berapa lama Bulan mengelilingi Bumi?",
                options: ["7 hari", "14 hari", "29 hari", "365 hari"],
                correct: 2
            },
            {
                text: "Simak baik-baik: Air sangat penting untuk kehidupan. Tubuh manusia terdiri dari 70% air. Kita harus minum air putih minimal 8 gelas sehari agar tubuh tetap sehat dan terhindar dari dehidrasi.",
                question: "Berapa gelas air putih yang harus diminum setiap hari?",
                options: ["4 gelas", "6 gelas", "8 gelas", "10 gelas"],
                correct: 2
            },
            {
                text: "Perhatikan: Lebah adalah serangga yang sangat bermanfaat. Mereka membantu penyerbukan bunga dan menghasilkan madu. Dalam satu koloni lebah, terdapat ratu lebah, lebah pekerja, dan lebah jantan. Lebah pekerja yang paling banyak jumlahnya.",
                question: "Jenis lebah apa yang paling banyak dalam satu koloni?",
                options: ["Ratu lebah", "Lebah jantan", "Lebah pekerja", "Lebah penjaga"],
                correct: 2
            }
        ];

        // Speaking Game Data
        const speakingTexts = [
            "Kebersihan adalah sebagian dari iman. Mari kita jaga kebersihan lingkungan kita dengan membuang sampah pada tempatnya.",
            "Belajar dengan giat adalah kunci kesuksesan. Jangan pernah menyerah dalam mengejar cita-citamu!",
            "Persahabatan adalah harta yang berharga. Hargai teman-temanmu dan selalu berbuat baik kepada mereka.",
            "Membaca buku membuka jendela dunia. Semakin banyak kita membaca, semakin luas pengetahuan kita."
        ];

        let currentReadingQ = 0;
        let readingScore = 0;
        let currentWritingTask = 0;
        let currentListeningQ = 0;
        let listeningScore = 0;
        let currentSpeakingTask = 0;
        let speakingComplete = 0;

        function startGame(gameType) {
            document.getElementById('mainMenu').style.display = 'none';
            
            if (gameType === 'reading') {
                document.getElementById('readingGame').classList.add('active');
                loadReadingQuestion();
            } else if (gameType === 'writing') {
                document.getElementById('writingGame').classList.add('active');
                loadWritingTask();
            } else if (gameType === 'listening') {
                document.getElementById('listeningGame').classList.add('active');
                loadListeningQuestion();
            } else if (gameType === 'speaking') {
                document.getElementById('speakingGame').classList.add('active');
                loadSpeakingTask();
            }
        }

        function backToMenu() {
            document.querySelectorAll('.game-screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById('mainMenu').style.display = 'grid';
            
            // Reset games
            currentReadingQ = 0;
            readingScore = 0;
            currentWritingTask = 0;
            currentListeningQ = 0;
            listeningScore = 0;
            currentSpeakingTask = 0;
            speakingComplete = 0;
        }

        function loadReadingQuestion() {
            if (currentReadingQ >= readingData.length) {
                document.getElementById('readingContent').innerHTML = `
                    <div class="result-message">
                        <h2>üéâ Selamat! üéâ</h2>
                        <p>Kamu telah menyelesaikan semua pertanyaan!</p>
                        <p style="font-size: 2em; margin: 20px 0;">Skor Akhir: ${readingScore}/5</p>
                        <button class="submit-btn" onclick="backToMenu()">Kembali ke Menu</button>
                    </div>
                `;
                return;
            }

            const data = readingData[currentReadingQ];
            document.getElementById('readingQuestion').textContent = currentReadingQ + 1;
            document.getElementById('readingScore').textContent = readingScore;
            document.getElementById('readingProgress').style.width = ((currentReadingQ + 1) / 5 * 100) + '%';
            document.getElementById('readingProgress').textContent = ((currentReadingQ + 1) / 5 * 100) + '%';

            let optionsHTML = '';
            data.options.forEach((option, index) => {
                optionsHTML += `<button class="option-btn" onclick="checkReadingAnswer(${index})">${option}</button>`;
            });

            document.getElementById('readingContent').innerHTML = `
                <div class="speech-text">${data.story}</div>
                <div class="question-box">${data.question}</div>
                <div class="options">${optionsHTML}</div>
            `;
        }

        function checkReadingAnswer(selected) {
            const data = readingData[currentReadingQ];
            const buttons = document.querySelectorAll('#readingContent .option-btn');
            
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === data.correct) {
                    btn.classList.add('correct');
                } else if (index === selected && selected !== data.correct) {
                    btn.classList.add('wrong');
                }
            });

            if (selected === data.correct) {
                readingScore++;
            }

            setTimeout(() => {
                currentReadingQ++;
                loadReadingQuestion();
            }, 2000);
        }

        function loadWritingTask() {
            if (currentWritingTask >= writingTasks.length) {
                document.getElementById('writingContent').innerHTML = `
                    <div class="result-message">
                        <h2>üéâ Hebat! üéâ</h2>
                        <p>Kamu telah menyelesaikan semua tugas menulis!</p>
                        <p>Kreativitasmu luar biasa! Terus berlatih menulis ya!</p>
                        <button class="submit-btn" onclick="backToMenu()">Kembali ke Menu</button>
                    </div>
                `;
                return;
            }

            const task = writingTasks[currentWritingTask];
            document.getElementById('writingTask').textContent = currentWritingTask + 1;

            document.getElementById('writingContent').innerHTML = `
                <div class="question-box">${task.prompt}</div>
                <p style="margin: 10px 0; color: #666;">Minimal ${task.minWords} kata</p>
                <textarea class="input-area" id="writingInput" rows="10" placeholder="Mulai menulis ceritamu di sini..." oninput="updateWordCount()"></textarea>
                <button class="submit-btn" onclick="submitWriting()">Kirim Tulisan üìù</button>
            `;
        }

        function updateWordCount() {
            const text = document.getElementById('writingInput').value;
            const words = text.trim().split(/\s+/).filter(word => word.length > 0);
            document.getElementById('wordCount').textContent = words.length;
        }

        function submitWriting() {
            const text = document.getElementById('writingInput').value;
            const words = text.trim().split(/\s+/).filter(word => word.length > 0);
            const task = writingTasks[currentWritingTask];

            if (words.length < task.minWords) {
                alert(`Tulisan kamu masih kurang! Minimal ${task.minWords} kata ya.`);
                return;
            }

            alert('üéâ Tulisan berhasil dikirim! Lanjut ke tugas berikutnya!');
            currentWritingTask++;
            loadWritingTask();
        }

        function loadListeningQuestion() {
            if (currentListeningQ >= listeningData.length) {
                document.getElementById('listeningContent').innerHTML = `
                    <div class="result-message">
                        <h2>üéâ Luar Biasa! üéâ</h2>
                        <p>Kamu telah menyelesaikan semua soal menyimak!</p>
                        <p style="font-size: 2em; margin: 20px 0;">Skor Akhir: ${listeningScore}/4</p>
                        <button class="submit-btn" onclick="backToMenu()">Kembali ke Menu</button>
                    </div>
                `;
                return;
            }

            const data = listeningData[currentListeningQ];
            document.getElementById('listeningQuestion').textContent = currentListeningQ + 1;
            document.getElementById('listeningScore').textContent = listeningScore;

            let optionsHTML = '';
            data.options.forEach((option, index) => {
                optionsHTML += `<button class="option-btn" onclick="checkListeningAnswer(${index})">${option}</button>`;
            });

            document.getElementById('listeningContent').innerHTML = `
                <div class="speech-text">
                    <p style="font-size: 0.9em; color: #667eea; margin-bottom: 10px;">üìª Dengarkan baik-baik:</p>
                    ${data.text}
                </div>
                <div class="question-box">${data.question}</div>
                <div class="options">${optionsHTML}</div>
            `;
        }

        function checkListeningAnswer(selected) {
            const data = listeningData[currentListeningQ];
            const buttons = document.querySelectorAll('#listeningContent .option-btn');
            
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === data.correct) {
                    btn.classList.add('correct');
                } else if (index === selected && selected !== data.correct) {
                    btn.classList.add('wrong');
                }
            });

            if (selected === data.correct) {
                listeningScore++;
            }

            setTimeout(() => {
                currentListeningQ++;
                loadListeningQuestion();
            }, 2000);
        }

        function loadSpeakingTask() {
            if (currentSpeakingTask >= speakingTexts.length) {
                document.getElementById('speakingContent').innerHTML = `
                    <div class="result-message">
                        <h2>üéâ Sempurna! üéâ</h2>
                        <p>Kamu telah menyelesaikan semua latihan berbicara!</p>
                        <p style="font-size: 1.3em; margin: 20px 0;">Total Teks Selesai: ${speakingComplete}/4</p>
                        <p>Suaramu sangat bagus! Terus berlatih berbicara dengan percaya diri!</p>
                        <button class="submit-btn" onclick="backToMenu()">Kembali ke Menu</button>
                    </div>
                `;
                return;
            }

            const text = speakingTexts[currentSpeakingTask];
            document.getElementById('speakingTask').textContent = currentSpeakingTask + 1;
            document.getElementById('speakingComplete').textContent = speakingComplete;

            document.getElementById('speakingContent').innerHTML = `
                <div class="question-box">
                    <p style="font-size: 0.9em; margin-bottom: 15px;">üé§ Bacalah teks berikut dengan lantang dan percaya diri:</p>
                    <p style="font-size: 1.2em; line-height: 1.8;">${text}</p>
                </div>
                <div style="text-align: center; margin: 30px 0;">
                    <p style="color: #666; margin-bottom: 20px;">Bacalah dengan suara yang jelas dan intonasi yang tepat!</p>
                    <button class="record-btn" onclick="completeSpeaking()">
                        ‚úÖ Selesai Membaca
                    </button>
                </div>
                <div style="background: #f0f0f0; padding: 20px; border-radius: 15px; margin-top: 20px;">
                    <h4 style="color: #667eea; margin-bottom: 10px;">üí° Tips Berbicara:</h4>
                    <ul style="color: #666; line-height: 1.8;">
                        <li>Bernapaslah dengan teratur</li>
                        <li>Ucapkan setiap kata dengan jelas</li>
                        <li>Jangan terburu-buru</li>
                        <li>Tersenyumlah saat berbicara</li>
                    </ul>
                </div>
            `;
        }

        function completeSpeaking() {
            speakingComplete++;
            alert('üéâ Bagus sekali! Kamu sudah membaca dengan baik!');
            currentSpeakingTask++;
            loadSpeakingTask();
        }
    </script>
</body>
</html>